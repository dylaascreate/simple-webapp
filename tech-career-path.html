<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tech CareerPath AI</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* Custom Scrollbar for the skill list */
        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
        
        /* Fade in animation */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-900 font-sans min-h-screen flex flex-col">

    <!-- App Container -->
    <div id="app" class="flex-grow"></div>

    <script>
        // --- DATASET ---
        // Exact replica of the data from the React version
        const CAREER_DATABASE = [
            {
                id: 'fullstack',
                title: 'Full-Stack Developer',
                iconName: 'layers',
                color: 'text-purple-600',
                description: 'Build end-to-end web solutions working with both client-side and server-side technologies.',
                requiredSkills: [
                    'HTML', 'CSS', 'JavaScript', 'React', 'Vue', 'Angular', 
                    'Express.js', 'Django', 'Flask', 'SQL', 'MongoDB', 'PostgreSQL', 
                    'Git', 'Docker', 'AWS', 'APIs', 'REST', 'GraphQL', 'Testing', 'CI/CD'
                ]
            },
            {
                id: 'frontend',
                title: 'Frontend Engineer',
                iconName: 'layout-template',
                color: 'text-pink-500',
                description: 'Create interactive and responsive user interfaces for web applications.',
                requiredSkills: [
                    'HTML', 'CSS', 'JavaScript', 'React', 'Vue', 'Angular', 
                    'Bootstrap', 'Tailwind CSS', 'Next.js', 'TypeScript', 'Figma', 
                    'Web Performance', 'Accessibility', 'API Integration'
                ]
            },
            {
                id: 'backend',
                title: 'Backend Engineer',
                iconName: 'server',
                color: 'text-slate-600',
                description: 'Design and build the core logic, databases, and APIs that power applications.',
                requiredSkills: [
                    'Java', 'Python', 'Node.js', 'Spring Boot', 'SQL', 'MySQL', 
                    'PostgreSQL', 'MongoDB', 'Redis', 'Microservices', 'System Design', 
                    'Kafka', 'APIs', 'REST', 'Docker', 'Kubernetes'
                ]
            },
            {
                id: 'data_eng',
                title: 'Data Engineer',
                iconName: 'database',
                color: 'text-teal-600',
                description: 'Build and maintain the infrastructure and pipelines for data generation.',
                requiredSkills: [
                    'Python', 'SQL', 'ETL', 'Data Warehousing', 'BigQuery', 
                    'Snowflake', 'Redshift', 'Airflow', 'Spark', 'Kafka', 
                    'Pandas', 'NumPy', 'AWS', 'Azure'
                ]
            },
            {
                id: 'devops',
                title: 'DevOps Engineer',
                iconName: 'infinity',
                color: 'text-orange-500',
                description: 'Bridge development and operations to improve deployment frequency and reliability.',
                requiredSkills: [
                    'Linux', 'Terraform', 'Jenkins', 'GitHub Actions', 'Docker', 
                    'Kubernetes', 'AWS', 'Azure', 'Google Cloud', 'CI/CD', 
                    'Ansible', 'Git', 'Monitoring', 'Bash Scripting'
                ]
            },
            {
                id: 'mobile',
                title: 'Mobile Developer',
                iconName: 'smartphone',
                color: 'text-green-500',
                description: 'Develop functional applications for mobile devices on iOS and Android platforms.',
                requiredSkills: [
                    'React Native', 'Flutter', 'Swift', 'Kotlin', 'iOS', 'Android', 
                    'Mobile Design', 'APIs', 'Firebase', 'Git', 'Mobile Testing'
                ]
            },
            {
                id: 'ai_ml',
                title: 'AI/ML Engineer',
                iconName: 'cpu',
                color: 'text-indigo-500',
                description: 'Design and create AI models using machine learning algorithms and deep learning neural networks.',
                requiredSkills: [
                    'Python', 'TensorFlow', 'PyTorch', 'Machine Learning', 'Deep Learning', 
                    'NLP', 'Computer Vision', 'Data Analysis', 'Statistics', 'Pandas', 
                    'NumPy', 'Scikit-learn', 'Model Deployment'
                ]
            },
            {
                id: 'cyber',
                title: 'Cybersecurity Engineer',
                iconName: 'shield',
                color: 'text-red-600',
                description: 'Protect systems, networks, and data from cyber attacks and unauthorized access.',
                requiredSkills: [
                    'Network Security', 'Penetration Testing', 'Security Tools', 'Incident Response', 
                    'Firewall', 'SIEM', 'Compliance', 'Linux', 'Python', 'Cryptography', 
                    'Ethical Hacking', 'Risk Assessment'
                ]
            },
            {
                id: 'cloud',
                title: 'Cloud Architect',
                iconName: 'cloud',
                color: 'text-sky-500',
                description: 'Design and manage an organizationâ€™s cloud computing architecture and strategy.',
                requiredSkills: [
                    'AWS', 'Azure', 'Google Cloud', 'Terraform', 'CloudFormation', 
                    'Kubernetes', 'Docker', 'System Design', 'Networking', 'SQL', 
                    'Security', 'Cost Optimization', 'Disaster Recovery', 'CI/CD'
                ]
            },
            {
                id: 'swe',
                title: 'Software Engineer',
                iconName: 'code',
                color: 'text-blue-600',
                description: 'Apply engineering principles to design, develop, and maintain software systems.',
                requiredSkills: [
                    'JavaScript', 'Java', 'Python', 'C++', 'Git', 'APIs', 'REST', 
                    'Testing', 'CI/CD', 'System Design', 'Security', 'Software Process', 
                    'Microservices', 'Algorithms', 'Data Structures'
                ]
            }
        ];

        // Extract all unique skills
        const ALL_SKILLS = [...new Set(CAREER_DATABASE.flatMap(c => c.requiredSkills))].sort();

        // --- STATE MANAGEMENT ---
        const state = {
            selectedSkills: [],
            searchTerm: '',
            view: 'home' // 'home' | 'results'
        };

        // --- RENDER FUNCTIONS ---
        const app = document.getElementById('app');

        function render() {
            // Header is always present
            let html = `
                <header class="bg-white shadow-sm border-b border-slate-200 sticky top-0 z-10">
                    <div class="max-w-5xl mx-auto px-4 py-4 flex justify-between items-center">
                        <div class="flex items-center gap-2">
                            <div class="bg-blue-600 p-2 rounded-lg">
                                <i data-lucide="award" class="w-6 h-6 text-white"></i>
                            </div>
                            <div>
                                <h1 class="text-xl font-bold text-slate-800">Tech CareerPath AI</h1>
                                <p class="text-xs text-slate-500">Skills Mapping & Recommendation Engine</p>
                            </div>
                        </div>
                        ${state.view === 'results' ? `
                            <button onclick="setView('home')" class="text-sm font-medium text-blue-600 hover:text-blue-800">
                                Modify Skills
                            </button>
                        ` : ''}
                    </div>
                </header>
                <main class="max-w-5xl mx-auto px-4 py-8">
            `;

            if (state.view === 'home') {
                html += renderHome();
            } else {
                html += renderResults();
            }

            html += `</main>`;
            app.innerHTML = html;
            
            // Re-initialize icons after DOM update
            lucide.createIcons();

            // Restore focus if searching
            if (state.view === 'home') {
                const searchInput = document.getElementById('skillSearch');
                if (searchInput) {
                    searchInput.value = state.searchTerm;
                    searchInput.focus();
                }
            }
        }

        function renderHome() {
            const filteredSkills = ALL_SKILLS.filter(skill => 
                skill.toLowerCase().includes(state.searchTerm.toLowerCase())
            );

            return `
                <div class="mb-8 text-center max-w-2xl mx-auto">
                    <h2 class="text-3xl font-extrabold text-slate-900 mb-4">Discover Your Engineering Path</h2>
                    <p class="text-slate-600 text-lg mb-8">
                        Select your technical stack below. Our engine maps your skills to specific engineering roles like DevOps, Cloud Architecture, and Full-Stack Development.
                    </p>
                </div>

                <div class="bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden animate-fade-in">
                    <div class="p-6 bg-slate-800 text-white">
                        <h3 class="text-lg font-semibold flex items-center gap-2">
                            <i data-lucide="user" class="w-5 h-5"></i>
                            Select Your Tech Stack
                        </h3>
                        <div class="mt-4 relative">
                            <i data-lucide="search" class="absolute left-3 top-3 w-5 h-5 text-slate-400"></i>
                            <input
                                id="skillSearch"
                                type="text"
                                placeholder="Search skills (e.g., Terraform, React, Python)..."
                                class="w-full bg-slate-700 text-white placeholder-slate-400 pl-10 pr-4 py-3 rounded-xl border border-slate-600 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all"
                                oninput="handleSearch(this.value)"
                            />
                        </div>
                    </div>

                    <div class="p-6">
                        ${state.selectedSkills.length > 0 ? `
                            <div class="mb-6">
                                <h4 class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-3">Selected Stack (${state.selectedSkills.length})</h4>
                                <div class="flex flex-wrap gap-2">
                                    ${state.selectedSkills.map(skill => `
                                        <button onclick="toggleSkill('${skill}')" class="flex items-center gap-1 px-3 py-1.5 bg-blue-100 text-blue-700 rounded-full text-sm font-medium hover:bg-blue-200 transition-colors">
                                            ${skill}
                                            <i data-lucide="x" class="w-3 h-3"></i>
                                        </button>
                                    `).join('')}
                                </div>
                            </div>
                        ` : ''}

                        <h4 class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-3">Available Tech Skills</h4>
                        <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 max-h-96 overflow-y-auto pr-2 custom-scrollbar">
                            ${filteredSkills.length > 0 ? filteredSkills.map(skill => {
                                const isSelected = state.selectedSkills.includes(skill);
                                return `
                                    <button 
                                        onclick="toggleSkill('${skill}')"
                                        class="text-left px-4 py-3 rounded-xl text-sm font-medium transition-all duration-200 flex justify-between items-center group ${isSelected ? 'bg-blue-600 text-white shadow-md' : 'bg-slate-50 text-slate-600 hover:bg-slate-100 hover:shadow-sm border border-slate-200 hover:border-slate-300'}"
                                    >
                                        ${skill}
                                        ${isSelected ? '<i data-lucide="check" class="w-4 h-4"></i>' : ''}
                                    </button>
                                `;
                            }).join('') : `
                                <div class="col-span-full text-center py-10 text-slate-400">
                                    <p>No skills found matching "${state.searchTerm}"</p>
                                </div>
                            `}
                        </div>
                    </div>
                    
                    <div class="p-4 bg-slate-50 border-t border-slate-100 flex justify-end">
                        <button
                            onclick="setView('results')"
                            ${state.selectedSkills.length === 0 ? 'disabled' : ''}
                            class="flex items-center gap-2 px-8 py-4 rounded-xl font-bold text-lg shadow-lg transition-all transform hover:-translate-y-1 ${state.selectedSkills.length === 0 ? 'bg-slate-300 text-slate-500 cursor-not-allowed' : 'bg-blue-600 text-white hover:bg-blue-700 hover:shadow-blue-500/30'}"
                        >
                            Analyze & Recommend Careers
                            <i data-lucide="trending-up" class="w-5 h-5"></i>
                        </button>
                    </div>
                </div>
            `;
        }

        function renderResults() {
            // Calculate matches
            const recommendations = CAREER_DATABASE.map(career => {
                const matchCount = career.requiredSkills.filter(skill => state.selectedSkills.includes(skill)).length;
                const totalRequired = career.requiredSkills.length;
                const percentage = Math.round((matchCount / totalRequired) * 100);
                return { ...career, matchCount, percentage };
            })
            .filter(c => c.percentage > 0)
            .sort((a, b) => b.percentage - a.percentage);

            let html = `
                <div class="flex items-center justify-between mb-6 animate-fade-in">
                    <h3 class="text-2xl font-bold text-slate-800">Recommended Tech Careers</h3>
                    <span class="text-sm text-slate-500 bg-white px-3 py-1 rounded-full border border-slate-200">
                        Based on ${state.selectedSkills.length} skills
                    </span>
                </div>
            `;

            if (recommendations.length === 0) {
                html += `
                    <div class="text-center py-20 bg-white rounded-2xl shadow-sm border border-slate-200 animate-fade-in">
                        <div class="flex justify-center mb-4">
                            <i data-lucide="book-open" class="w-16 h-16 text-slate-300"></i>
                        </div>
                        <h3 class="text-xl font-semibold text-slate-700">No Technical Matches Found</h3>
                        <p class="text-slate-500 mt-2 max-w-md mx-auto">
                            We couldn't find a technical career path that matches your current selection. Try adding core engineering skills like "Python", "Java", "React", or "SQL".
                        </p>
                        <button onclick="setView('home')" class="mt-6 px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700">
                            Edit Stack
                        </button>
                    </div>
                `;
            } else {
                html += `<div class="grid grid-cols-1 gap-6">`;
                
                recommendations.forEach(career => {
                    // Determine color for match score
                    let scoreColor = 'text-amber-500';
                    let barColor = 'bg-amber-500';
                    if (career.percentage >= 80) {
                        scoreColor = 'text-green-500';
                        barColor = 'bg-green-500';
                    } else if (career.percentage >= 50) {
                        scoreColor = 'text-blue-500';
                        barColor = 'bg-blue-500';
                    }

                    // Skills lists
                    const haveSkills = career.requiredSkills.filter(s => state.selectedSkills.includes(s));
                    const missingSkills = career.requiredSkills.filter(s => !state.selectedSkills.includes(s));

                    html += `
                        <div class="bg-white rounded-2xl p-6 shadow-sm border border-slate-200 hover:shadow-md transition-shadow relative overflow-hidden animate-fade-in">
                            <div class="absolute top-0 right-0 p-6 flex flex-col items-end">
                                <div class="text-3xl font-black ${scoreColor}">${career.percentage}%</div>
                                <span class="text-xs font-bold text-slate-400 uppercase tracking-wider">Match Score</span>
                            </div>

                            <div class="flex items-start gap-4 pr-24">
                                <div class="p-3 bg-slate-50 rounded-xl border border-slate-100">
                                    <i data-lucide="${career.iconName}" class="w-6 h-6 ${career.color}"></i>
                                </div>
                                <div>
                                    <h4 class="text-xl font-bold text-slate-900">${career.title}</h4>
                                    <p class="text-slate-500 text-sm mt-1 mb-4">${career.description}</p>
                                    
                                    <div class="space-y-3">
                                        <div>
                                            <span class="text-xs font-semibold text-green-600 uppercase tracking-wide">You Have:</span>
                                            <div class="flex flex-wrap gap-2 mt-1">
                                                ${haveSkills.map(s => `
                                                    <span class="px-2 py-1 bg-green-50 text-green-700 border border-green-100 rounded text-xs font-medium flex items-center gap-1">
                                                        <i data-lucide="check" class="w-3 h-3"></i> ${s}
                                                    </span>
                                                `).join('')}
                                            </div>
                                        </div>
                                        
                                        ${missingSkills.length > 0 ? `
                                            <div>
                                                <span class="text-xs font-semibold text-slate-400 uppercase tracking-wide">Missing Skills:</span>
                                                <div class="flex flex-wrap gap-2 mt-1">
                                                    ${missingSkills.map(s => `
                                                        <span class="px-2 py-1 bg-slate-50 text-slate-500 border border-slate-100 rounded text-xs font-medium">
                                                            ${s}
                                                        </span>
                                                    `).join('')}
                                                </div>
                                            </div>
                                        ` : ''}
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mt-6 w-full bg-slate-100 h-2 rounded-full overflow-hidden">
                                <div class="h-full rounded-full transition-all duration-1000 ease-out ${barColor}" style="width: ${career.percentage}%"></div>
                            </div>
                        </div>
                    `;
                });

                html += `</div>`;
            }

            return html;
        }

        // --- CONTROLLERS ---
        function toggleSkill(skill) {
            if (state.selectedSkills.includes(skill)) {
                state.selectedSkills = state.selectedSkills.filter(s => s !== skill);
            } else {
                state.selectedSkills.push(skill);
            }
            render();
        }

        function handleSearch(val) {
            state.searchTerm = val;
            render();
        }

        function setView(viewName) {
            state.view = viewName;
            render();
            window.scrollTo(0, 0);
        }

        // --- INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            render();
        });

    </script>
</body>
</html>